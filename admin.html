<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>NEO Admin - Image Preview Fix</title>
    <style>
        body { font-family: sans-serif; background: #121212; color: white; display: flex; margin: 0; height: 100vh; }
        .panel { width: 450px; padding: 20px; background: #1e1e1e; overflow-y: auto; border-right: 2px solid #333; }
        .preview { flex: 1; display: flex; align-items: center; justify-content: center; background: #000; }
        .phone { width: 340px; height: 680px; border: 8px solid #333; border-radius: 25px; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }
        .section { background: #2a2a2a; padding: 10px; margin-bottom: 10px; border-radius: 5px; }
        input, range { width: 100%; margin: 5px 0; }
        .row { display: flex; gap: 10px; align-items: center; }
        label { font-size: 12px; color: #888; }
        .num { width: 50px; background: #333; color: #0f0; border: none; text-align: center; }
    </style>
</head>
<body>
    <div class="panel">
        <h3>NEO SZERKESZTŐ</h3>
        
        <div class="section">
            <strong>FŐCÍM</strong>
            <input type="text" id="cim" value="TESZT" oninput="update()">
            <label>Méret (Max 6)</label>
            <div class="row">
                <input type="range" id="ms" min="1" max="10" step="0.1" value="5" oninput="sync(this, 'ms_n'); update()">
                <input type="number" id="ms_n" class="num" value="5" oninput="sync(this, 'ms'); update()">
            </div>
        </div>

        <div class="section">
            <strong>KÉP DEKORÁCIÓ (URL)</strong>
            <input type="text" id="d1url" placeholder="Kép közvetlen linkje (.png, .jpg)" oninput="update()">
            <label>Pozíció X - Y</label>
            <div class="row">
                <input type="range" id="d1x" min="0" max="100" value="50" oninput="update()">
                <input type="range" id="d1y" min="0" max="100" value="30" oninput="update()">
            </div>
            <label>Méret</label>
            <input type="range" id="d1s" min="5" max="50" value="20" oninput="update()">
        </div>

        <div id="url-display" style="font-size: 10px; word-break: break-all; color: #666; margin-top: 20px;"></div>
    </div>

    <div class="preview">
        <div class="phone"><iframe id="ifr" src="index.html"></iframe></div>
    </div>

    <script>
        function sync(s, t) { document.getElementById(t).value = s.value; }

        function update() {
            const p = new URLSearchParams();
            p.set('cim', document.getElementById('cim').value);
            p.set('ms', document.getElementById('ms').value);
            
            // Kép adatok küldése
            const d1url = document.getElementById('d1url').value;
            if(d1url) {
                p.set('d1url', d1url);
                p.set('d1x', document.getElementById('d1x').value);
                p.set('d1y', document.getElementById('d1y').value);
                p.set('d1s', document.getElementById('d1s').value);
            }

            const finalUrl = 'index.html?' + p.toString();
            document.getElementById('url-display').innerText = finalUrl;
            document.getElementById('ifr').src = finalUrl;
        }
        
        // Kezdő frissítés
        setTimeout(update, 500);
    </script>
</body>
    </html>
    
