<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>Kindness Admin Pro</title>
    <style>
        body { font-family: sans-serif; background: #1a1a1a; color: white; display: flex; gap: 20px; padding: 20px; }
        .panel { width: 450px; background: #2a2a2a; padding: 20px; border-radius: 10px; overflow-y: auto; height: 90vh; }
        .preview { flex: 1; border: 5px solid #444; border-radius: 10px; height: 90vh; }
        iframe { width: 100%; height: 100%; border: none; }
        label { display: block; margin-top: 15px; color: #00ff00; font-size: 0.8rem; }
        input, select { width: 100%; padding: 8px; margin-top: 5px; background: #333; color: white; border: 1px solid #555; }
        .deco-group { border: 1px solid #444; padding: 10px; margin-top: 10px; }
        button { width: 100%; padding: 15px; background: #00ff00; border: none; font-weight: bold; margin-top: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="panel">
        <h2>üõ† Adminisztr√°tor</h2>
        
        <label>YouTube URL (B√°rmilyen linket bem√°solhatsz)</label>
        <input type="text" id="zene_url" placeholder="https://..." oninput="update()">

        <label>Lej√°tsz√°si m√≥d</label>
        <select id="mode" onchange="update()">
            <option value="zene">Csak zene (rejtett)</option>
            <option value="video">L√°that√≥ vide√≥</option>
            <option value="bgvideo">H√°tt√©r vide√≥ (Full Screen)</option>
        </select>

        <label>F≈ëc√≠m</label>
        <input type="text" id="cim" value="SZERETLEK!" oninput="update()">

        <label>Effekt</label>
        <select id="effect" onchange="update()">
            <option value="heart">Sz√≠vek</option>
            <option value="snow">Pelyhek</option>
            <option value="flower">Vir√°gok</option>
        </select>

        <label>Effekt Intenzit√°s & M√©ret</label>
        <input type="range" id="intens" min="1" max="20" value="5" oninput="update()">
        <input type="range" id="size" min="10" max="100" value="30" oninput="update()">

        <div class="deco-group">
            <strong>Dekor√°ci√≥ 1 (K√©p URL)</strong>
            <input type="text" id="d1url" oninput="update()">
            <label>X-Y Poz√≠ci√≥ √©s M√©ret</label>
            <input type="range" id="d1x" min="0" max="100" value="20" oninput="update()">
            <input type="range" id="d1y" min="0" max="100" value="20" oninput="update()">
            <input type="range" id="d1s" min="20" max="400" value="100" oninput="update()">
        </div>

        <button onclick="copy()">LINK M√ÅSOL√ÅSA</button>
        <div id="url-res" style="font-size: 0.6rem; margin-top:10px; word-break: break-all;"></div>
    </div>
    <div class="preview"><iframe id="ifr"></iframe></div>

    <script>
        function getID(url) {
            const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regExp);
            return (match && match[2].length === 11) ? match[2] : url;
        }
        <script>
            function update() {
                const base = window.location.href.replace('admin.html', 'index.html');
                const p = new URLSearchParams();
                
                p.set('cim', document.getElementById('cim').value);
                p.set('alcim', document.getElementById('alcim').value);
                p.set('mode', document.getElementById('mode').value);
                p.set('effect', document.getElementById('effect').value);
                p.set('intens', document.getElementById('intens').value);
                p.set('size', document.getElementById('size').value);
                
                const zid = getID(document.getElementById('zene_url').value);
                if(zid) p.set('zene', zid);
        
                // K√©p URL param√©terek
                const dUrl = document.getElementById('d1url').value;
                if(dUrl) {
                    p.set('d1url', dUrl);
                    p.set('d1x', document.getElementById('d1x').value);
                    p.set('d1y', document.getElementById('d1y').value);
                    p.set('d1s', document.getElementById('d1s').value);
                }
        
                const final = base + '?' + p.toString();
                document.getElementById('url-res').innerText = final;
                document.getElementById('ifr').src = final;
            }
        </script>
       
        function copy() { navigator.clipboard.writeText(document.getElementById('url-res').innerText); alert("M√°solva!"); }
        update();
    </script>
</body>
</html>
